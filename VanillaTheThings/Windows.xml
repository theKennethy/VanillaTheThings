<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/ ..\FrameXML\UI.xsd">

<!-- ========================================================================= -->
<!--                           FONT STRINGS                                    -->
<!-- ========================================================================= -->

<Font name="ATTFontNormal" inherits="GameFontNormal" virtual="true"/>
<Font name="ATTFontSmall" inherits="GameFontNormalSmall" virtual="true"/>
<Font name="ATTFontHeader" inherits="GameFontNormalLarge" virtual="true"/>
<Font name="ATTFontTiny" inherits="GameFontNormalSmall" virtual="true">
    <FontHeight>
        <AbsValue val="9"/>
    </FontHeight>
</Font>

<!-- ========================================================================= -->
<!--                        TRACKER ROW TEMPLATE                               -->
<!-- ========================================================================= -->

<Button name="ATTTrackerRowTemplate" virtual="true">
    <Size>
        <AbsDimension x="200" y="14"/>
    </Size>
    <Layers>
        <Layer level="ARTWORK">
            <Texture name="$parentIcon">
                <Size>
                    <AbsDimension x="12" y="12"/>
                </Size>
                <Anchors>
                    <Anchor point="LEFT">
                        <Offset><AbsDimension x="2" y="0"/></Offset>
                    </Anchor>
                </Anchors>
            </Texture>
            <FontString name="$parentText" inherits="ATTFontTiny" justifyH="LEFT">
                <Anchors>
                    <Anchor point="LEFT">
                        <Offset><AbsDimension x="16" y="0"/></Offset>
                    </Anchor>
                    <Anchor point="RIGHT">
                        <Offset><AbsDimension x="-4" y="0"/></Offset>
                    </Anchor>
                </Anchors>
            </FontString>
        </Layer>
    </Layers>
    <HighlightTexture alphaMode="ADD">
        <Color r="1" g="1" b="1" a="0.1"/>
    </HighlightTexture>
    <Scripts>
        <OnEnter>
            if this.tooltip then
                GameTooltip:SetOwner(this, "ANCHOR_LEFT")
                if type(this.tooltip) == "function" then
                    this.tooltip(GameTooltip)
                else
                    GameTooltip:SetText(this.tooltip)
                end
                GameTooltip:Show()
            end
        </OnEnter>
        <OnLeave>
            GameTooltip:Hide()
        </OnLeave>
        <OnClick>
            if this.onClick then
                this.onClick()
            end
        </OnClick>
    </Scripts>
</Button>

<!-- ========================================================================= -->
<!--                      ATT TRACKER FRAME (Always Visible)                   -->
<!-- ========================================================================= -->

<Frame name="ATTTrackerFrame" parent="UIParent" movable="true" enableMouse="true" frameStrata="BACKGROUND">
    <Size>
        <AbsDimension x="220" y="200"/>
    </Size>
    <Anchors>
        <Anchor point="TOPRIGHT">
            <Offset><AbsDimension x="-20" y="-200"/></Offset>
        </Anchor>
    </Anchors>
    <Backdrop bgFile="Interface\Tooltips\UI-Tooltip-Background" edgeFile="" tile="true">
        <BackgroundInsets>
            <AbsInset left="0" right="0" top="0" bottom="0"/>
        </BackgroundInsets>
        <TileSize><AbsValue val="16"/></TileSize>
    </Backdrop>
    <Layers>
        <Layer level="BACKGROUND">
            <Texture name="ATTTrackerFrameBG" setAllPoints="true">
                <Color r="0" g="0" b="0" a="0.5"/>
            </Texture>
        </Layer>
        <!-- Header -->
        <Layer level="ARTWORK">
            <Texture name="ATTTrackerFrameHeaderBG">
                <Size>
                    <AbsDimension x="220" y="18"/>
                </Size>
                <Anchors>
                    <Anchor point="TOPLEFT"/>
                </Anchors>
                <Color r="0.1" g="0.3" b="0.5" a="0.8"/>
            </Texture>
            <FontString name="ATTTrackerFrameTitle" inherits="ATTFontSmall" text="|cFF15ABFFVanillaTheThings|r">
                <Anchors>
                    <Anchor point="TOPLEFT">
                        <Offset><AbsDimension x="6" y="-2"/></Offset>
                    </Anchor>
                </Anchors>
            </FontString>
            <FontString name="ATTTrackerFrameZone" inherits="ATTFontTiny">
                <Size>
                    <AbsDimension x="140" y="12"/>
                </Size>
                <Anchors>
                    <Anchor point="TOPRIGHT">
                        <Offset><AbsDimension x="-24" y="-3"/></Offset>
                    </Anchor>
                </Anchors>
                <Color r="1" g="0.8" b="0"/>
            </FontString>
        </Layer>
    </Layers>
    
    <!-- Close/Minimize Button -->
    <Frames>
        <Button name="ATTTrackerFrameCloseBtn">
            <Size>
                <AbsDimension x="16" y="16"/>
            </Size>
            <Anchors>
                <Anchor point="TOPRIGHT">
                    <Offset><AbsDimension x="-2" y="-1"/></Offset>
                </Anchor>
            </Anchors>
            <NormalTexture file="Interface\Buttons\UI-MinusButton-Up"/>
            <PushedTexture file="Interface\Buttons\UI-MinusButton-Down"/>
            <HighlightTexture file="Interface\Buttons\UI-PlusButton-Hilight" alphaMode="ADD"/>
            <Scripts>
                <OnClick>
                    if VanillaTheThings and VanillaTheThings.ToggleTrackerMinimized then
                        VanillaTheThings:ToggleTrackerMinimized()
                    end
                </OnClick>
            </Scripts>
        </Button>
        
        <!-- Content Area -->
        <Frame name="ATTTrackerFrameContent">
            <Size>
                <AbsDimension x="216" y="178"/>
            </Size>
            <Anchors>
                <Anchor point="TOPLEFT">
                    <Offset><AbsDimension x="2" y="-20"/></Offset>
                </Anchor>
            </Anchors>
        </Frame>
    </Frames>
    
    <Scripts>
        <OnLoad>
            this:SetBackdropColor(0, 0, 0, 0.6)
            this:RegisterForDrag("LeftButton")
        </OnLoad>
        <OnDragStart>
            this:StartMoving()
        </OnDragStart>
        <OnDragStop>
            this:StopMovingOrSizing()
            if VanillaTheThings and VanillaTheThings.SaveTrackerPosition then
                VanillaTheThings:SaveTrackerPosition()
            end
        </OnDragStop>
        <OnEnter>
            ATTTrackerFrameBG:SetVertexColor(0.1, 0.1, 0.1, 0.7)
        </OnEnter>
        <OnLeave>
            ATTTrackerFrameBG:SetVertexColor(0, 0, 0, 0.5)
        </OnLeave>
    </Scripts>
</Frame>

<!-- ========================================================================= -->
<!--                           PROGRESS BAR TEMPLATE                           -->
<!-- ========================================================================= -->

<StatusBar name="ATTProgressBarTemplate" virtual="true">
    <Size>
        <AbsDimension x="100" y="12"/>
    </Size>
    <Layers>
        <Layer level="BACKGROUND">
            <Texture name="$parentBG" setAllPoints="true">
                <Color r="0" g="0" b="0" a="0.6"/>
            </Texture>
        </Layer>
        <Layer level="ARTWORK">
            <FontString name="$parentText" inherits="ATTFontTiny" justifyH="CENTER">
                <Anchors>
                    <Anchor point="CENTER"/>
                </Anchors>
            </FontString>
        </Layer>
        <Layer level="BORDER">
            <Texture name="$parentBorder">
                <Color r="0.3" g="0.3" b="0.3" a="1"/>
            </Texture>
        </Layer>
    </Layers>
    <BarTexture file="Interface\TargetingFrame\UI-StatusBar"/>
    <BarColor r="0.1" g="0.6" b="0.1"/>
</StatusBar>

<!-- ========================================================================= -->
<!--                           TAB BUTTON TEMPLATE                             -->
<!-- ========================================================================= -->

<Button name="ATTTabButtonTemplate" virtual="true">
    <Size>
        <AbsDimension x="80" y="24"/>
    </Size>
    <Layers>
        <Layer level="BACKGROUND">
            <Texture name="$parentBG" setAllPoints="true">
                <Color r="0.2" g="0.2" b="0.2" a="0.8"/>
            </Texture>
        </Layer>
        <Layer level="ARTWORK">
            <FontString name="$parentText" inherits="ATTFontSmall" justifyH="CENTER">
                <Anchors>
                    <Anchor point="CENTER"/>
                </Anchors>
            </FontString>
        </Layer>
    </Layers>
    <HighlightTexture alphaMode="ADD">
        <Color r="1" g="1" b="1" a="0.2"/>
    </HighlightTexture>
</Button>

<!-- ========================================================================= -->
<!--                           ICON BUTTON TEMPLATE                            -->
<!-- ========================================================================= -->

<Button name="ATTIconButtonTemplate" virtual="true">
    <Size>
        <AbsDimension x="24" y="24"/>
    </Size>
    <Layers>
        <Layer level="BACKGROUND">
            <Texture name="$parentIcon" setAllPoints="true"/>
        </Layer>
        <Layer level="BORDER">
            <Texture name="$parentBorder" file="Interface\Buttons\UI-Quickslot2">
                <Size>
                    <AbsDimension x="30" y="30"/>
                </Size>
                <Anchors>
                    <Anchor point="CENTER"/>
                </Anchors>
            </Texture>
        </Layer>
    </Layers>
    <HighlightTexture file="Interface\Buttons\ButtonHilight-Square" alphaMode="ADD"/>
    <PushedTexture file="Interface\Buttons\UI-Quickslot-Depress"/>
</Button>

<!-- ========================================================================= -->
<!--                           ROW TEMPLATE                                    -->
<!-- ========================================================================= -->

<Button name="ATTRowTemplate" virtual="true">
    <Size>
        <AbsDimension x="380" y="20"/>
    </Size>
    <Layers>
        <Layer level="BACKGROUND">
            <Texture name="$parentBackground" setAllPoints="true">
                <Color r="0.1" g="0.1" b="0.1" a="0.3"/>
            </Texture>
        </Layer>
        <Layer level="ARTWORK">
            <Texture name="$parentIndicator">
                <Size>
                    <AbsDimension x="3" y="16"/>
                </Size>
                <Anchors>
                    <Anchor point="LEFT">
                        <Offset>
                            <AbsDimension x="1" y="0"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <Color r="0.1" g="0.6" b="1" a="0"/>
            </Texture>
            <Texture name="$parentIcon">
                <Size>
                    <AbsDimension x="16" y="16"/>
                </Size>
                <Anchors>
                    <Anchor point="LEFT">
                        <Offset>
                            <AbsDimension x="6" y="0"/>
                        </Offset>
                    </Anchor>
                </Anchors>
            </Texture>
            <FontString name="$parentLabel" inherits="ATTFontSmall" justifyH="LEFT">
                <Size>
                    <AbsDimension x="260" y="0"/>
                </Size>
                <Anchors>
                    <Anchor point="LEFT" relativeTo="$parentIcon" relativePoint="RIGHT">
                        <Offset>
                            <AbsDimension x="4" y="0"/>
                        </Offset>
                    </Anchor>
                </Anchors>
            </FontString>
            <FontString name="$parentCount" inherits="ATTFontSmall" justifyH="RIGHT">
                <Size>
                    <AbsDimension x="70" y="0"/>
                </Size>
                <Anchors>
                    <Anchor point="RIGHT">
                        <Offset>
                            <AbsDimension x="-20" y="0"/>
                        </Offset>
                    </Anchor>
                </Anchors>
            </FontString>
            <Texture name="$parentCheckmark">
                <Size>
                    <AbsDimension x="14" y="14"/>
                </Size>
                <Anchors>
                    <Anchor point="RIGHT">
                        <Offset>
                            <AbsDimension x="-4" y="0"/>
                        </Offset>
                    </Anchor>
                </Anchors>
            </Texture>
        </Layer>
        <Layer level="HIGHLIGHT">
            <Texture name="$parentHighlight" alphaMode="ADD">
                <Color r="1" g="1" b="1" a="0.1"/>
            </Texture>
        </Layer>
    </Layers>
    <Scripts>
        <OnEnter>
            if this.OnRowEnter then
                this:OnRowEnter()
            end
        </OnEnter>
        <OnLeave>
            GameTooltip:Hide()
        </OnLeave>
        <OnClick>
            if this.OnRowClick then
                this:OnRowClick()
            end
        </OnClick>
    </Scripts>
    <HighlightTexture name="$parentHighlight" setAllPoints="true" alphaMode="ADD">
        <Color r="1" g="1" b="1" a="0.1"/>
    </HighlightTexture>
</Button>

<!-- ========================================================================= -->
<!--                           HEADER TEMPLATE                                 -->
<!-- ========================================================================= -->

<Button name="ATTHeaderTemplate" virtual="true">
    <Size>
        <AbsDimension x="380" y="22"/>
    </Size>
    <Layers>
        <Layer level="BACKGROUND">
            <Texture name="$parentBackground" setAllPoints="true">
                <Gradient orientation="HORIZONTAL">
                    <MinColor r="0.1" g="0.3" b="0.6" a="0.8"/>
                    <MaxColor r="0.05" g="0.15" b="0.3" a="0.6"/>
                </Gradient>
            </Texture>
        </Layer>
        <Layer level="ARTWORK">
            <Texture name="$parentExpandIcon">
                <Size>
                    <AbsDimension x="14" y="14"/>
                </Size>
                <Anchors>
                    <Anchor point="LEFT">
                        <Offset>
                            <AbsDimension x="4" y="0"/>
                        </Offset>
                    </Anchor>
                </Anchors>
            </Texture>
            <Texture name="$parentCategoryIcon">
                <Size>
                    <AbsDimension x="18" y="18"/>
                </Size>
                <Anchors>
                    <Anchor point="LEFT" relativeTo="$parentExpandIcon" relativePoint="RIGHT">
                        <Offset>
                            <AbsDimension x="2" y="0"/>
                        </Offset>
                    </Anchor>
                </Anchors>
            </Texture>
            <FontString name="$parentLabel" inherits="ATTFontNormal" justifyH="LEFT">
                <Size>
                    <AbsDimension x="220" y="0"/>
                </Size>
                <Anchors>
                    <Anchor point="LEFT" relativeTo="$parentCategoryIcon" relativePoint="RIGHT">
                        <Offset>
                            <AbsDimension x="4" y="0"/>
                        </Offset>
                    </Anchor>
                </Anchors>
            </FontString>
            <FontString name="$parentCount" inherits="ATTFontNormal" justifyH="RIGHT">
                <Size>
                    <AbsDimension x="90" y="0"/>
                </Size>
                <Anchors>
                    <Anchor point="RIGHT">
                        <Offset>
                            <AbsDimension x="-4" y="0"/>
                        </Offset>
                    </Anchor>
                </Anchors>
            </FontString>
        </Layer>
        <Layer level="OVERLAY">
            <Texture name="$parentBottomLine">
                <Size>
                    <AbsDimension x="380" y="1"/>
                </Size>
                <Anchors>
                    <Anchor point="BOTTOM"/>
                </Anchors>
                <Color r="0.3" g="0.5" b="0.7" a="0.5"/>
            </Texture>
        </Layer>
    </Layers>
    <Scripts>
        <OnClick>
            if this.OnHeaderClick then
                this:OnHeaderClick()
            end
        </OnClick>
    </Scripts>
    <HighlightTexture name="$parentHighlight" setAllPoints="true" alphaMode="ADD">
        <Color r="1" g="1" b="1" a="0.15"/>
    </HighlightTexture>
</Button>

<!-- ========================================================================= -->
<!--                           MINI LIST WINDOW                                -->
<!-- ========================================================================= -->

<Frame name="ATTMiniFrame" parent="UIParent" toplevel="true" movable="true" enableMouse="true" hidden="true" frameStrata="MEDIUM">
    <Size>
        <AbsDimension x="280" y="400"/>
    </Size>
    <Anchors>
        <Anchor point="CENTER">
            <Offset>
                <AbsDimension x="250" y="0"/>
            </Offset>
        </Anchor>
    </Anchors>
    <Backdrop bgFile="Interface\DialogFrame\UI-DialogBox-Background" edgeFile="Interface\DialogFrame\UI-DialogBox-Border" tile="true">
        <BackgroundInsets>
            <AbsInset left="11" right="12" top="12" bottom="11"/>
        </BackgroundInsets>
        <TileSize>
            <AbsValue val="32"/>
        </TileSize>
        <EdgeSize>
            <AbsValue val="32"/>
        </EdgeSize>
    </Backdrop>
    <Layers>
        <Layer level="BACKGROUND">
            <Texture name="ATTMiniFrameHeaderBG">
                <Size>
                    <AbsDimension x="256" y="35"/>
                </Size>
                <Anchors>
                    <Anchor point="TOP">
                        <Offset>
                            <AbsDimension x="0" y="-12"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <Gradient orientation="VERTICAL">
                    <MinColor r="0.05" g="0.1" b="0.15" a="1"/>
                    <MaxColor r="0.1" g="0.2" b="0.35" a="1"/>
                </Gradient>
            </Texture>
        </Layer>
        <Layer level="ARTWORK">
            <Texture name="ATTMiniFrameZoneIcon" file="Interface\Icons\INV_Misc_Map_01">
                <Size>
                    <AbsDimension x="20" y="20"/>
                </Size>
                <Anchors>
                    <Anchor point="TOPLEFT">
                        <Offset>
                            <AbsDimension x="18" y="-17"/>
                        </Offset>
                    </Anchor>
                </Anchors>
            </Texture>
            <FontString name="ATTMiniFrameTitle" inherits="ATTFontNormal" text="Current Zone">
                <Anchors>
                    <Anchor point="LEFT" relativeTo="ATTMiniFrameZoneIcon" relativePoint="RIGHT">
                        <Offset>
                            <AbsDimension x="6" y="0"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <Color r="0.08" g="0.67" b="1"/>
            </FontString>
            <FontString name="ATTMiniFrameSubzone" inherits="ATTFontTiny">
                <Anchors>
                    <Anchor point="TOPLEFT" relativeTo="ATTMiniFrameTitle" relativePoint="BOTTOMLEFT">
                        <Offset>
                            <AbsDimension x="0" y="0"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <Color r="0.7" g="0.7" b="0.7"/>
            </FontString>
        </Layer>
    </Layers>
    <Frames>
        <!-- Close Button -->
        <Button name="ATTMiniFrameCloseButton" inherits="UIPanelCloseButton">
            <Anchors>
                <Anchor point="TOPRIGHT">
                    <Offset>
                        <AbsDimension x="-3" y="-3"/>
                    </Offset>
                </Anchor>
            </Anchors>
            <Scripts>
                <OnClick>
                    this:GetParent():Hide()
                </OnClick>
            </Scripts>
        </Button>
        
        <!-- Pin Button -->
        <Button name="ATTMiniFramePinButton">
            <Size>
                <AbsDimension x="16" y="16"/>
            </Size>
            <Anchors>
                <Anchor point="RIGHT" relativeTo="ATTMiniFrameCloseButton" relativePoint="LEFT">
                    <Offset>
                        <AbsDimension x="0" y="0"/>
                    </Offset>
                </Anchor>
            </Anchors>
            <NormalTexture file="Interface\Buttons\UI-GuildButton-OfficerNote-Disabled"/>
            <HighlightTexture file="Interface\Buttons\UI-GuildButton-OfficerNote-Up" alphaMode="ADD"/>
            <Scripts>
                <OnClick>
                    if VanillaTheThings and VanillaTheThings.ToggleMiniPinned then
                        VanillaTheThings:ToggleMiniPinned()
                    end
                </OnClick>
                <OnEnter>
                    GameTooltip:SetOwner(this, "ANCHOR_RIGHT")
                    GameTooltip:AddLine("Pin Window", 1, 1, 1)
                    GameTooltip:AddLine("Keep window on top", 0.8, 0.8, 0.8)
                    GameTooltip:Show()
                </OnEnter>
                <OnLeave>
                    GameTooltip:Hide()
                </OnLeave>
            </Scripts>
        </Button>
        
        <!-- Zone Progress Bar -->
        <StatusBar name="ATTMiniFrameProgressBar" inherits="ATTProgressBarTemplate">
            <Size>
                <AbsDimension x="230" y="10"/>
            </Size>
            <Anchors>
                <Anchor point="TOP">
                    <Offset>
                        <AbsDimension x="0" y="-50"/>
                    </Offset>
                </Anchor>
            </Anchors>
        </StatusBar>
        
        <!-- Filter Tabs -->
        <Frame name="ATTMiniFrameFilters">
            <Size>
                <AbsDimension x="240" y="20"/>
            </Size>
            <Anchors>
                <Anchor point="TOP">
                    <Offset>
                        <AbsDimension x="0" y="-65"/>
                    </Offset>
                </Anchor>
            </Anchors>
            <Frames>
                <Button name="ATTMiniFilterQuests">
                    <Size>
                        <AbsDimension x="58" y="18"/>
                    </Size>
                    <Anchors>
                        <Anchor point="LEFT"/>
                    </Anchors>
                    <Layers>
                        <Layer level="BACKGROUND">
                            <Texture setAllPoints="true">
                                <Color r="0.2" g="0.2" b="0.2" a="0.8"/>
                            </Texture>
                        </Layer>
                        <Layer level="ARTWORK">
                            <FontString inherits="ATTFontTiny" justifyH="CENTER" text="Quests">
                                <Anchors>
                                    <Anchor point="CENTER"/>
                                </Anchors>
                            </FontString>
                        </Layer>
                    </Layers>
                    <HighlightTexture alphaMode="ADD">
                        <Color r="1" g="1" b="1" a="0.2"/>
                    </HighlightTexture>
                </Button>
                <Button name="ATTMiniFilterMobs">
                    <Size>
                        <AbsDimension x="58" y="18"/>
                    </Size>
                    <Anchors>
                        <Anchor point="LEFT" relativeTo="ATTMiniFilterQuests" relativePoint="RIGHT">
                            <Offset>
                                <AbsDimension x="2" y="0"/>
                            </Offset>
                        </Anchor>
                    </Anchors>
                    <Layers>
                        <Layer level="BACKGROUND">
                            <Texture setAllPoints="true">
                                <Color r="0.2" g="0.2" b="0.2" a="0.8"/>
                            </Texture>
                        </Layer>
                        <Layer level="ARTWORK">
                            <FontString inherits="ATTFontTiny" justifyH="CENTER" text="NPCs">
                                <Anchors>
                                    <Anchor point="CENTER"/>
                                </Anchors>
                            </FontString>
                        </Layer>
                    </Layers>
                    <HighlightTexture alphaMode="ADD">
                        <Color r="1" g="1" b="1" a="0.2"/>
                    </HighlightTexture>
                </Button>
                <Button name="ATTMiniFilterItems">
                    <Size>
                        <AbsDimension x="58" y="18"/>
                    </Size>
                    <Anchors>
                        <Anchor point="LEFT" relativeTo="ATTMiniFilterMobs" relativePoint="RIGHT">
                            <Offset>
                                <AbsDimension x="2" y="0"/>
                            </Offset>
                        </Anchor>
                    </Anchors>
                    <Layers>
                        <Layer level="BACKGROUND">
                            <Texture setAllPoints="true">
                                <Color r="0.2" g="0.2" b="0.2" a="0.8"/>
                            </Texture>
                        </Layer>
                        <Layer level="ARTWORK">
                            <FontString inherits="ATTFontTiny" justifyH="CENTER" text="Items">
                                <Anchors>
                                    <Anchor point="CENTER"/>
                                </Anchors>
                            </FontString>
                        </Layer>
                    </Layers>
                    <HighlightTexture alphaMode="ADD">
                        <Color r="1" g="1" b="1" a="0.2"/>
                    </HighlightTexture>
                </Button>
                <Button name="ATTMiniFilterAll">
                    <Size>
                        <AbsDimension x="58" y="18"/>
                    </Size>
                    <Anchors>
                        <Anchor point="LEFT" relativeTo="ATTMiniFilterItems" relativePoint="RIGHT">
                            <Offset>
                                <AbsDimension x="2" y="0"/>
                            </Offset>
                        </Anchor>
                    </Anchors>
                    <Layers>
                        <Layer level="BACKGROUND">
                            <Texture setAllPoints="true">
                                <Color r="0.3" g="0.3" b="0.4" a="0.9"/>
                            </Texture>
                        </Layer>
                        <Layer level="ARTWORK">
                            <FontString inherits="ATTFontTiny" justifyH="CENTER" text="All">
                                <Anchors>
                                    <Anchor point="CENTER"/>
                                </Anchors>
                            </FontString>
                        </Layer>
                    </Layers>
                    <HighlightTexture alphaMode="ADD">
                        <Color r="1" g="1" b="1" a="0.2"/>
                    </HighlightTexture>
                </Button>
            </Frames>
        </Frame>
        
        <!-- Scroll Frame -->
        <ScrollFrame name="ATTMiniFrameScrollFrame" inherits="FauxScrollFrameTemplate">
            <Size>
                <AbsDimension x="238" y="300"/>
            </Size>
            <Anchors>
                <Anchor point="TOPLEFT">
                    <Offset>
                        <AbsDimension x="15" y="-90"/>
                    </Offset>
                </Anchor>
            </Anchors>
            <Scripts>
                <OnVerticalScroll>
                    FauxScrollFrame_OnVerticalScroll(self, offset, 18, VanillaTheThings.UpdateMiniList)
                </OnVerticalScroll>
            </Scripts>
        </ScrollFrame>
        
        <!-- Content Frame (inside scroll) -->
        <Frame name="ATTMiniFrameContent">
            <Size>
                <AbsDimension x="238" y="300"/>
            </Size>
            <Anchors>
                <Anchor point="TOPLEFT" relativeTo="ATTMiniFrameScrollFrame"/>
            </Anchors>
        </Frame>
        
        <!-- Status Bar -->
        <Frame name="ATTMiniFrameStatusBar">
            <Size>
                <AbsDimension x="250" y="16"/>
            </Size>
            <Anchors>
                <Anchor point="BOTTOM">
                    <Offset>
                        <AbsDimension x="0" y="14"/>
                    </Offset>
                </Anchor>
            </Anchors>
            <Layers>
                <Layer level="ARTWORK">
                    <FontString name="ATTMiniFrameStatusText" inherits="ATTFontTiny" justifyH="CENTER">
                        <Anchors>
                            <Anchor point="CENTER"/>
                        </Anchors>
                        <Color r="0.7" g="0.7" b="0.7"/>
                    </FontString>
                </Layer>
            </Layers>
        </Frame>
    </Frames>
    <Scripts>
        <OnLoad>
            this:RegisterForDrag("LeftButton")
            tinsert(UISpecialFrames, "ATTMiniFrame")
        </OnLoad>
        <OnDragStart>
            this:StartMoving()
        </OnDragStart>
        <OnDragStop>
            this:StopMovingOrSizing()
            if VanillaTheThings and VanillaTheThings.SaveWindowPosition then
                VanillaTheThings:SaveWindowPosition("mini", this)
            end
        </OnDragStop>
        <OnShow>
            if VanillaTheThings and VanillaTheThings.RefreshMiniWindow then
                VanillaTheThings:RefreshMiniWindow()
            end
        </OnShow>
    </Scripts>
</Frame>

<!-- ========================================================================= -->
<!--                           RAID ASSISTANT WINDOW                           -->
<!-- ========================================================================= -->

<Frame name="ATTRaidFrame" parent="UIParent" toplevel="true" movable="true" enableMouse="true" hidden="true" frameStrata="HIGH">
    <Size>
        <AbsDimension x="350" y="500"/>
    </Size>
    <Anchors>
        <Anchor point="CENTER">
            <Offset>
                <AbsDimension x="-250" y="0"/>
            </Offset>
        </Anchor>
    </Anchors>
    <Backdrop bgFile="Interface\DialogFrame\UI-DialogBox-Background" edgeFile="Interface\DialogFrame\UI-DialogBox-Border" tile="true">
        <BackgroundInsets>
            <AbsInset left="11" right="12" top="12" bottom="11"/>
        </BackgroundInsets>
        <TileSize>
            <AbsValue val="32"/>
        </TileSize>
        <EdgeSize>
            <AbsValue val="32"/>
        </EdgeSize>
    </Backdrop>
    <Layers>
        <Layer level="BACKGROUND">
            <Texture name="ATTRaidFrameHeaderBG">
                <Size>
                    <AbsDimension x="326" y="40"/>
                </Size>
                <Anchors>
                    <Anchor point="TOP">
                        <Offset>
                            <AbsDimension x="0" y="-12"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <Gradient orientation="VERTICAL">
                    <MinColor r="0.2" g="0.05" b="0.05" a="1"/>
                    <MaxColor r="0.4" g="0.1" b="0.1" a="1"/>
                </Gradient>
            </Texture>
        </Layer>
        <Layer level="ARTWORK">
            <Texture name="ATTRaidFrameIcon" file="Interface\Icons\INV_Helmet_06">
                <Size>
                    <AbsDimension x="28" y="28"/>
                </Size>
                <Anchors>
                    <Anchor point="TOPLEFT">
                        <Offset>
                            <AbsDimension x="18" y="-16"/>
                        </Offset>
                    </Anchor>
                </Anchors>
            </Texture>
            <FontString name="ATTRaidFrameTitle" inherits="ATTFontHeader" text="Raid Assistant">
                <Anchors>
                    <Anchor point="LEFT" relativeTo="ATTRaidFrameIcon" relativePoint="RIGHT">
                        <Offset>
                            <AbsDimension x="8" y="0"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <Color r="1" g="0.5" b="0.5"/>
            </FontString>
        </Layer>
    </Layers>
    <Frames>
        <!-- Close Button -->
        <Button name="ATTRaidFrameCloseButton" inherits="UIPanelCloseButton">
            <Anchors>
                <Anchor point="TOPRIGHT">
                    <Offset>
                        <AbsDimension x="-5" y="-5"/>
                    </Offset>
                </Anchor>
            </Anchors>
            <Scripts>
                <OnClick>
                    this:GetParent():Hide()
                </OnClick>
            </Scripts>
        </Button>
        
        <!-- Raid Selection Dropdown Area -->
        <Frame name="ATTRaidFrameDropdown">
            <Size>
                <AbsDimension x="200" y="24"/>
            </Size>
            <Anchors>
                <Anchor point="TOPLEFT">
                    <Offset>
                        <AbsDimension x="15" y="-55"/>
                    </Offset>
                </Anchor>
            </Anchors>
            <Layers>
                <Layer level="BACKGROUND">
                    <Texture setAllPoints="true">
                        <Color r="0.1" g="0.1" b="0.1" a="0.8"/>
                    </Texture>
                </Layer>
                <Layer level="ARTWORK">
                    <FontString name="ATTRaidFrameDropdownText" inherits="ATTFontSmall" text="Select Raid...">
                        <Anchors>
                            <Anchor point="LEFT">
                                <Offset>
                                    <AbsDimension x="8" y="0"/>
                                </Offset>
                            </Anchor>
                        </Anchors>
                    </FontString>
                </Layer>
                <Layer level="BORDER">
                    <Texture file="Interface\Buttons\UI-SliderBar-Border">
                        <Size>
                            <AbsDimension x="210" y="28"/>
                        </Size>
                        <Anchors>
                            <Anchor point="CENTER"/>
                        </Anchors>
                    </Texture>
                </Layer>
            </Layers>
        </Frame>
        
        <!-- Boss List Scroll Frame -->
        <ScrollFrame name="ATTRaidFrameScrollFrame" inherits="FauxScrollFrameTemplate">
            <Size>
                <AbsDimension x="308" y="380"/>
            </Size>
            <Anchors>
                <Anchor point="TOPLEFT">
                    <Offset>
                        <AbsDimension x="15" y="-90"/>
                    </Offset>
                </Anchor>
            </Anchors>
            <Scripts>
                <OnVerticalScroll>
                    FauxScrollFrame_OnVerticalScroll(self, offset, 22, VanillaTheThings.UpdateRaidList)
                </OnVerticalScroll>
            </Scripts>
        </ScrollFrame>
        
        <!-- Content Frame -->
        <Frame name="ATTRaidFrameContent">
            <Size>
                <AbsDimension x="308" y="380"/>
            </Size>
            <Anchors>
                <Anchor point="TOPLEFT" relativeTo="ATTRaidFrameScrollFrame"/>
            </Anchors>
        </Frame>
        
        <!-- Status Bar -->
        <Frame name="ATTRaidFrameStatusBar">
            <Size>
                <AbsDimension x="320" y="20"/>
            </Size>
            <Anchors>
                <Anchor point="BOTTOM">
                    <Offset>
                        <AbsDimension x="0" y="15"/>
                    </Offset>
                </Anchor>
            </Anchors>
            <Layers>
                <Layer level="ARTWORK">
                    <FontString name="ATTRaidFrameStatusText" inherits="ATTFontSmall" justifyH="CENTER">
                        <Anchors>
                            <Anchor point="CENTER"/>
                        </Anchors>
                        <Color r="0.7" g="0.7" b="0.7"/>
                    </FontString>
                </Layer>
            </Layers>
        </Frame>
    </Frames>
    <Scripts>
        <OnLoad>
            this:RegisterForDrag("LeftButton")
            tinsert(UISpecialFrames, "ATTRaidFrame")
        </OnLoad>
        <OnDragStart>
            this:StartMoving()
        </OnDragStart>
        <OnDragStop>
            this:StopMovingOrSizing()
        </OnDragStop>
        <OnShow>
            PlaySound("igMainMenuOpen")
            if VanillaTheThings and VanillaTheThings.RefreshRaidWindow then
                VanillaTheThings:RefreshRaidWindow()
            end
        </OnShow>
        <OnHide>
            PlaySound("igMainMenuClose")
        </OnHide>
    </Scripts>
</Frame>

<!-- ========================================================================= -->
<!--                           TOOLTIP FRAME (ENHANCED)                        -->
<!-- ========================================================================= -->

<Frame name="ATTTooltipFrame" parent="UIParent" hidden="true" frameStrata="TOOLTIP">
    <Size>
        <AbsDimension x="300" y="200"/>
    </Size>
    <Backdrop bgFile="Interface\Tooltips\UI-Tooltip-Background" edgeFile="Interface\Tooltips\UI-Tooltip-Border" tile="true">
        <BackgroundInsets>
            <AbsInset left="4" right="4" top="4" bottom="4"/>
        </BackgroundInsets>
        <TileSize>
            <AbsValue val="16"/>
        </TileSize>
        <EdgeSize>
            <AbsValue val="16"/>
        </EdgeSize>
    </Backdrop>
    <Scripts>
        <OnLoad>
            this:SetBackdropColor(0.05, 0.05, 0.1, 0.95)
            this:SetBackdropBorderColor(0.3, 0.5, 0.8, 1)
        </OnLoad>
    </Scripts>
</Frame>

<!-- ========================================================================= -->
<!--                           MINIMAP BUTTON                                  -->
<!-- ========================================================================= -->

<Button name="ATTMinimapButton" parent="Minimap" hidden="true" enableMouse="true" movable="true" frameStrata="LOW">
    <Size>
        <AbsDimension x="32" y="32"/>
    </Size>
    <Anchors>
        <Anchor point="TOPLEFT" relativeTo="Minimap">
            <Offset>
                <AbsDimension x="0" y="0"/>
            </Offset>
        </Anchor>
    </Anchors>
    <Layers>
        <Layer level="BORDER">
            <Texture name="ATTMinimapButtonBorder" file="Interface\Minimap\MiniMap-TrackingBorder">
                <Size>
                    <AbsDimension x="54" y="54"/>
                </Size>
                <Anchors>
                    <Anchor point="TOPLEFT">
                        <Offset>
                            <AbsDimension x="0" y="0"/>
                        </Offset>
                    </Anchor>
                </Anchors>
            </Texture>
        </Layer>
        <Layer level="BACKGROUND">
            <Texture name="ATTMinimapButtonIcon" file="Interface\Icons\INV_Misc_Book_09">
                <Size>
                    <AbsDimension x="20" y="20"/>
                </Size>
                <Anchors>
                    <Anchor point="CENTER">
                        <Offset>
                            <AbsDimension x="0" y="0"/>
                        </Offset>
                    </Anchor>
                </Anchors>
            </Texture>
        </Layer>
        <Layer level="OVERLAY">
            <Texture name="ATTMinimapButtonGlow" file="Interface\Minimap\UI-Minimap-Background" hidden="true">
                <Size>
                    <AbsDimension x="24" y="24"/>
                </Size>
                <Anchors>
                    <Anchor point="CENTER"/>
                </Anchors>
                <Color r="0.1" g="0.6" b="1" a="0.5"/>
            </Texture>
        </Layer>
    </Layers>
    <Scripts>
        <OnLoad>
            this:RegisterForDrag("LeftButton")
            this:RegisterForClicks("LeftButtonUp", "RightButtonUp", "MiddleButtonUp")
        </OnLoad>
        <OnClick>
            if arg1 == "LeftButton" then
                if VanillaTheThings and VanillaTheThings.ToggleTracker then
                    VanillaTheThings:ToggleTracker()
                end
            end
        </OnClick>
        <OnEnter>
            -- Glow effect
            getglobal(this:GetName() .. "Glow"):Show()
            
            GameTooltip:SetOwner(this, "ANCHOR_LEFT")
            GameTooltip:AddLine("|cFF15ABFFVanillaTheThings|r", 1, 1, 1)
            GameTooltip:AddLine(" ")
            GameTooltip:AddLine("|cFFFFFFFFClick:|r Toggle Tracker", 0.8, 0.8, 0.8)
            GameTooltip:AddLine("|cFFFFFFFFDrag:|r Move Button", 0.8, 0.8, 0.8)
            
            -- Show quick stats if available
            if VanillaTheThings and VanillaTheThings.GetStatistics then
                local stats = VanillaTheThings.GetStatistics()
                GameTooltip:AddLine(" ")
                GameTooltip:AddLine("|cFFFFD700Quick Stats:|r", 1, 0.82, 0)
                GameTooltip:AddLine("Quests: " .. (stats.questsCompleted or 0), 0.6, 0.8, 1)
                GameTooltip:AddLine("Reputations: " .. (stats.reputationsMaxed or 0) .. " Exalted", 0.6, 0.8, 1)
                GameTooltip:AddLine("Items: " .. (stats.itemsCollected or 0), 0.6, 0.8, 1)
            end
            
            GameTooltip:Show()
        </OnEnter>
        <OnLeave>
            getglobal(this:GetName() .. "Glow"):Hide()
            GameTooltip:Hide()
        </OnLeave>
        <OnDragStart>
            this.isDragging = true
        </OnDragStart>
        <OnDragStop>
            this.isDragging = false
        </OnDragStop>
        <OnUpdate>
            if this.isDragging then
                local xpos, ypos = GetCursorPosition()
                local xmin, ymin = Minimap:GetLeft(), Minimap:GetBottom()
                local scale = UIParent:GetScale()
                xpos = xmin - xpos / scale + 70
                ypos = ypos / scale - ymin - 70
                local angle = math.atan2(ypos, xpos)
                local x, y = math.cos(angle), math.sin(angle)
                x = x * 80
                y = y * 80
                this:ClearAllPoints()
                this:SetPoint("CENTER", Minimap, "CENTER", x, y)
                if VanillaTheThings and VanillaTheThings.settings then
                    VanillaTheThings.settings.minimap.position = math.deg(angle)
                end
            end
        </OnUpdate>
    </Scripts>
    <HighlightTexture file="Interface\Minimap\UI-Minimap-ZoomButton-Highlight" alphaMode="ADD"/>
</Button>

<!-- ========================================================================= -->
<!--                           CHARACTER INFO WINDOW                           -->
<!-- ========================================================================= -->

<Frame name="ATTCharacterFrame" parent="UIParent" toplevel="true" movable="true" enableMouse="true" hidden="true" frameStrata="HIGH">
    <Size>
        <AbsDimension x="320" y="450"/>
    </Size>
    <Anchors>
        <Anchor point="CENTER">
            <Offset>
                <AbsDimension x="200" y="50"/>
            </Offset>
        </Anchor>
    </Anchors>
    <Backdrop bgFile="Interface\DialogFrame\UI-DialogBox-Background" edgeFile="Interface\DialogFrame\UI-DialogBox-Border" tile="true">
        <BackgroundInsets>
            <AbsInset left="11" right="12" top="12" bottom="11"/>
        </BackgroundInsets>
        <TileSize>
            <AbsValue val="32"/>
        </TileSize>
        <EdgeSize>
            <AbsValue val="32"/>
        </EdgeSize>
    </Backdrop>
    <Layers>
        <Layer level="BACKGROUND">
            <Texture name="ATTCharacterFrameHeaderBG">
                <Size>
                    <AbsDimension x="296" y="60"/>
                </Size>
                <Anchors>
                    <Anchor point="TOP">
                        <Offset>
                            <AbsDimension x="0" y="-12"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <Gradient orientation="VERTICAL">
                    <MinColor r="0.05" g="0.1" b="0.15" a="1"/>
                    <MaxColor r="0.15" g="0.25" b="0.35" a="1"/>
                </Gradient>
            </Texture>
        </Layer>
        <Layer level="ARTWORK">
            <Texture name="ATTCharacterFramePortraitBG">
                <Size>
                    <AbsDimension x="50" y="50"/>
                </Size>
                <Anchors>
                    <Anchor point="TOPLEFT">
                        <Offset>
                            <AbsDimension x="18" y="-16"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <Color r="0" g="0" b="0" a="0.5"/>
            </Texture>
            <FontString name="ATTCharacterFrameName" inherits="ATTFontHeader">
                <Anchors>
                    <Anchor point="TOPLEFT" relativeTo="ATTCharacterFramePortraitBG" relativePoint="TOPRIGHT">
                        <Offset>
                            <AbsDimension x="8" y="0"/>
                        </Offset>
                    </Anchor>
                </Anchors>
            </FontString>
            <FontString name="ATTCharacterFrameInfo" inherits="ATTFontSmall">
                <Anchors>
                    <Anchor point="TOPLEFT" relativeTo="ATTCharacterFrameName" relativePoint="BOTTOMLEFT">
                        <Offset>
                            <AbsDimension x="0" y="-2"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <Color r="0.7" g="0.7" b="0.7"/>
            </FontString>
            <FontString name="ATTCharacterFrameGuild" inherits="ATTFontSmall">
                <Anchors>
                    <Anchor point="TOPLEFT" relativeTo="ATTCharacterFrameInfo" relativePoint="BOTTOMLEFT">
                        <Offset>
                            <AbsDimension x="0" y="-2"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <Color r="0.1" g="0.8" b="0.1"/>
            </FontString>
        </Layer>
    </Layers>
    <Frames>
        <!-- Close Button -->
        <Button name="ATTCharacterFrameCloseButton" inherits="UIPanelCloseButton">
            <Anchors>
                <Anchor point="TOPRIGHT">
                    <Offset>
                        <AbsDimension x="-5" y="-5"/>
                    </Offset>
                </Anchor>
            </Anchors>
            <Scripts>
                <OnClick>
                    this:GetParent():Hide()
                </OnClick>
            </Scripts>
        </Button>
        
        <!-- Stats Section -->
        <Frame name="ATTCharacterFrameStats">
            <Size>
                <AbsDimension x="280" y="320"/>
            </Size>
            <Anchors>
                <Anchor point="TOPLEFT">
                    <Offset>
                        <AbsDimension x="20" y="-80"/>
                    </Offset>
                </Anchor>
            </Anchors>
        </Frame>
    </Frames>
    <Scripts>
        <OnLoad>
            this:RegisterForDrag("LeftButton")
            tinsert(UISpecialFrames, "ATTCharacterFrame")
        </OnLoad>
        <OnDragStart>
            this:StartMoving()
        </OnDragStart>
        <OnDragStop>
            this:StopMovingOrSizing()
        </OnDragStop>
        <OnShow>
            PlaySound("igCharacterInfoOpen")
            if VanillaTheThings and VanillaTheThings.RefreshCharacterWindow then
                VanillaTheThings:RefreshCharacterWindow()
            end
        </OnShow>
        <OnHide>
            PlaySound("igCharacterInfoClose")
        </OnHide>
    </Scripts>
</Frame>

<!-- ========================================================================= -->
<!--                           FILTER DROPDOWN MENU                            -->
<!-- ========================================================================= -->

<Frame name="ATTFilterDropdown" parent="UIParent" hidden="true" frameStrata="TOOLTIP" enableMouse="true">
    <Size>
        <AbsDimension x="150" y="200"/>
    </Size>
    <Backdrop bgFile="Interface\DialogFrame\UI-DialogBox-Background" edgeFile="Interface\Tooltips\UI-Tooltip-Border" tile="true">
        <BackgroundInsets>
            <AbsInset left="4" right="4" top="4" bottom="4"/>
        </BackgroundInsets>
        <TileSize>
            <AbsValue val="16"/>
        </TileSize>
        <EdgeSize>
            <AbsValue val="16"/>
        </EdgeSize>
    </Backdrop>
    <Layers>
        <Layer level="ARTWORK">
            <FontString name="ATTFilterDropdownTitle" inherits="ATTFontSmall" text="Filters">
                <Anchors>
                    <Anchor point="TOP">
                        <Offset>
                            <AbsDimension x="0" y="-8"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <Color r="1" g="0.82" b="0"/>
            </FontString>
        </Layer>
    </Layers>
    <Frames>
        <Frame name="ATTFilterDropdownContent">
            <Size>
                <AbsDimension x="140" y="170"/>
            </Size>
            <Anchors>
                <Anchor point="TOPLEFT">
                    <Offset>
                        <AbsDimension x="5" y="-25"/>
                    </Offset>
                </Anchor>
            </Anchors>
        </Frame>
    </Frames>
    <Scripts>
        <OnLoad>
            this:SetBackdropColor(0.1, 0.1, 0.1, 0.95)
        </OnLoad>
        <OnShow>
            if VanillaTheThings and VanillaTheThings.InitFilterDropdown then
                VanillaTheThings:InitFilterDropdown()
            end
        </OnShow>
    </Scripts>
</Frame>

<!-- ========================================================================= -->
<!--                           HELP/INFO WINDOW                                -->
<!-- ========================================================================= -->

<Frame name="ATTHelpFrame" parent="UIParent" toplevel="true" movable="true" enableMouse="true" hidden="true" frameStrata="DIALOG">
    <Size>
        <AbsDimension x="400" y="450"/>
    </Size>
    <Anchors>
        <Anchor point="CENTER"/>
    </Anchors>
    <Backdrop bgFile="Interface\DialogFrame\UI-DialogBox-Background" edgeFile="Interface\DialogFrame\UI-DialogBox-Border" tile="true">
        <BackgroundInsets>
            <AbsInset left="11" right="12" top="12" bottom="11"/>
        </BackgroundInsets>
        <TileSize>
            <AbsValue val="32"/>
        </TileSize>
        <EdgeSize>
            <AbsValue val="32"/>
        </EdgeSize>
    </Backdrop>
    <Layers>
        <Layer level="BACKGROUND">
            <Texture name="ATTHelpFrameHeaderBG">
                <Size>
                    <AbsDimension x="376" y="40"/>
                </Size>
                <Anchors>
                    <Anchor point="TOP">
                        <Offset>
                            <AbsDimension x="0" y="-12"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <Gradient orientation="VERTICAL">
                    <MinColor r="0.05" g="0.1" b="0.2" a="1"/>
                    <MaxColor r="0.1" g="0.2" b="0.4" a="1"/>
                </Gradient>
            </Texture>
        </Layer>
        <Layer level="ARTWORK">
            <Texture name="ATTHelpFrameIcon" file="Interface\Icons\INV_Misc_QuestionMark">
                <Size>
                    <AbsDimension x="28" y="28"/>
                </Size>
                <Anchors>
                    <Anchor point="TOPLEFT">
                        <Offset>
                            <AbsDimension x="18" y="-16"/>
                        </Offset>
                    </Anchor>
                </Anchors>
            </Texture>
            <FontString name="ATTHelpFrameTitle" inherits="ATTFontHeader" text="VanillaTheThings Help">
                <Anchors>
                    <Anchor point="LEFT" relativeTo="ATTHelpFrameIcon" relativePoint="RIGHT">
                        <Offset>
                            <AbsDimension x="8" y="0"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <Color r="0.08" g="0.67" b="1"/>
            </FontString>
        </Layer>
    </Layers>
    <Frames>
        <!-- Close Button -->
        <Button name="ATTHelpFrameCloseButton" inherits="UIPanelCloseButton">
            <Anchors>
                <Anchor point="TOPRIGHT">
                    <Offset>
                        <AbsDimension x="-5" y="-5"/>
                    </Offset>
                </Anchor>
            </Anchors>
            <Scripts>
                <OnClick>
                    this:GetParent():Hide()
                </OnClick>
            </Scripts>
        </Button>
        
        <!-- Help Content ScrollFrame -->
        <ScrollFrame name="ATTHelpFrameScrollFrame" inherits="UIPanelScrollFrameTemplate">
            <Size>
                <AbsDimension x="350" y="370"/>
            </Size>
            <Anchors>
                <Anchor point="TOPLEFT">
                    <Offset>
                        <AbsDimension x="15" y="-60"/>
                    </Offset>
                </Anchor>
            </Anchors>
        </ScrollFrame>
        
        <!-- Help Text Frame -->
        <Frame name="ATTHelpFrameContent">
            <Size>
                <AbsDimension x="340" y="600"/>
            </Size>
            <Anchors>
                <Anchor point="TOPLEFT" relativeTo="ATTHelpFrameScrollFrame"/>
            </Anchors>
            <Layers>
                <Layer level="ARTWORK">
                    <FontString name="ATTHelpFrameText" inherits="ATTFontSmall" justifyH="LEFT">
                        <Size>
                            <AbsDimension x="330" y="0"/>
                        </Size>
                        <Anchors>
                            <Anchor point="TOPLEFT">
                                <Offset>
                                    <AbsDimension x="5" y="-5"/>
                                </Offset>
                            </Anchor>
                        </Anchors>
                    </FontString>
                </Layer>
            </Layers>
        </Frame>
    </Frames>
    <Scripts>
        <OnLoad>
            this:RegisterForDrag("LeftButton")
            tinsert(UISpecialFrames, "ATTHelpFrame")
            getglobal("ATTHelpFrameScrollFrame"):SetScrollChild(getglobal("ATTHelpFrameContent"))
        </OnLoad>
        <OnDragStart>
            this:StartMoving()
        </OnDragStart>
        <OnDragStop>
            this:StopMovingOrSizing()
        </OnDragStop>
        <OnShow>
            PlaySound("igMainMenuOpen")
            if VanillaTheThings and VanillaTheThings.InitHelpWindow then
                VanillaTheThings:InitHelpWindow()
            end
        </OnShow>
        <OnHide>
            PlaySound("igMainMenuClose")
        </OnHide>
    </Scripts>
</Frame>

<!-- ========================================================================= -->
<!--                      MOUNT COLLECTION FRAME                               -->
<!-- ========================================================================= -->

<Frame name="ATTMountFrame" parent="UIParent" toplevel="true" movable="true" enableMouse="true" hidden="true" frameStrata="MEDIUM">
    <Size>
        <AbsDimension x="280" y="380"/>
    </Size>
    <Anchors>
        <Anchor point="CENTER">
            <Offset><AbsDimension x="-200" y="0"/></Offset>
        </Anchor>
    </Anchors>
    <Backdrop bgFile="Interface\Tooltips\UI-Tooltip-Background" edgeFile="" tile="true">
        <BackgroundInsets>
            <AbsInset left="0" right="0" top="0" bottom="0"/>
        </BackgroundInsets>
        <TileSize><AbsValue val="16"/></TileSize>
    </Backdrop>
    <Layers>
        <Layer level="BACKGROUND">
            <Texture name="ATTMountFrameBG" setAllPoints="true">
                <Color r="0" g="0" b="0" a="0.7"/>
            </Texture>
        </Layer>
        <!-- Header -->
        <Layer level="ARTWORK">
            <Texture name="ATTMountFrameHeaderBG">
                <Size>
                    <AbsDimension x="280" y="20"/>
                </Size>
                <Anchors>
                    <Anchor point="TOPLEFT"/>
                </Anchors>
                <Color r="0.1" g="0.3" b="0.5" a="0.9"/>
            </Texture>
            <FontString name="ATTMountFrameTitle" inherits="ATTFontSmall" text="|cFF15ABFFMount Collection|r">
                <Anchors>
                    <Anchor point="TOPLEFT">
                        <Offset><AbsDimension x="8" y="-3"/></Offset>
                    </Anchor>
                </Anchors>
            </FontString>
            <FontString name="ATTMountFrameHeader" inherits="ATTFontTiny" text="0 / 0 (0%)">
                <Size>
                    <AbsDimension x="100" y="12"/>
                </Size>
                <Anchors>
                    <Anchor point="TOPRIGHT">
                        <Offset><AbsDimension x="-24" y="-4"/></Offset>
                    </Anchor>
                </Anchors>
                <Color r="1" g="0.8" b="0"/>
            </FontString>
        </Layer>
    </Layers>
    <Frames>
        <!-- Close Button -->
        <Button name="ATTMountFrameCloseButton">
            <Size>
                <AbsDimension x="16" y="16"/>
            </Size>
            <Anchors>
                <Anchor point="TOPRIGHT">
                    <Offset><AbsDimension x="-2" y="-2"/></Offset>
                </Anchor>
            </Anchors>
            <NormalTexture file="Interface\Buttons\UI-Panel-MinimizeButton-Up"/>
            <PushedTexture file="Interface\Buttons\UI-Panel-MinimizeButton-Down"/>
            <HighlightTexture file="Interface\Buttons\UI-Panel-MinimizeButton-Highlight" alphaMode="ADD"/>
            <Scripts>
                <OnClick>
                    ATTMountFrame:Hide()
                </OnClick>
            </Scripts>
        </Button>
        <!-- Content Frame -->
        <Frame name="ATTMountFrameContent">
            <Size>
                <AbsDimension x="276" y="355"/>
            </Size>
            <Anchors>
                <Anchor point="TOPLEFT">
                    <Offset><AbsDimension x="2" y="-22"/></Offset>
                </Anchor>
            </Anchors>
        </Frame>
    </Frames>
    <Scripts>
        <OnLoad>
            this:SetBackdropColor(0, 0, 0, 0.7)
            this:RegisterForDrag("LeftButton")
            tinsert(UISpecialFrames, "ATTMountFrame")
        </OnLoad>
        <OnDragStart>
            this:StartMoving()
        </OnDragStart>
        <OnDragStop>
            this:StopMovingOrSizing()
        </OnDragStop>
        <OnShow>
            PlaySound("igMainMenuOpen")
            if VanillaTheThings and VanillaTheThings.RefreshMountWindow then
                VanillaTheThings:RefreshMountWindow()
            end
        </OnShow>
        <OnHide>
            PlaySound("igMainMenuClose")
        </OnHide>
    </Scripts>
</Frame>

<!-- ========================================================================= -->
<!--                       PET COLLECTION FRAME                                -->
<!-- ========================================================================= -->

<Frame name="ATTPetFrame" parent="UIParent" toplevel="true" movable="true" enableMouse="true" hidden="true" frameStrata="MEDIUM">
    <Size>
        <AbsDimension x="280" y="380"/>
    </Size>
    <Anchors>
        <Anchor point="CENTER">
            <Offset><AbsDimension x="200" y="0"/></Offset>
        </Anchor>
    </Anchors>
    <Backdrop bgFile="Interface\Tooltips\UI-Tooltip-Background" edgeFile="" tile="true">
        <BackgroundInsets>
            <AbsInset left="0" right="0" top="0" bottom="0"/>
        </BackgroundInsets>
        <TileSize><AbsValue val="16"/></TileSize>
    </Backdrop>
    <Layers>
        <Layer level="BACKGROUND">
            <Texture name="ATTPetFrameBG" setAllPoints="true">
                <Color r="0" g="0" b="0" a="0.7"/>
            </Texture>
        </Layer>
        <!-- Header -->
        <Layer level="ARTWORK">
            <Texture name="ATTPetFrameHeaderBG">
                <Size>
                    <AbsDimension x="280" y="20"/>
                </Size>
                <Anchors>
                    <Anchor point="TOPLEFT"/>
                </Anchors>
                <Color r="0.3" g="0.2" b="0.4" a="0.9"/>
            </Texture>
            <FontString name="ATTPetFrameTitle" inherits="ATTFontSmall" text="|cFFAA55FFPet Collection|r">
                <Anchors>
                    <Anchor point="TOPLEFT">
                        <Offset><AbsDimension x="8" y="-3"/></Offset>
                    </Anchor>
                </Anchors>
            </FontString>
            <FontString name="ATTPetFrameHeader" inherits="ATTFontTiny" text="0 / 0 (0%)">
                <Size>
                    <AbsDimension x="100" y="12"/>
                </Size>
                <Anchors>
                    <Anchor point="TOPRIGHT">
                        <Offset><AbsDimension x="-24" y="-4"/></Offset>
                    </Anchor>
                </Anchors>
                <Color r="1" g="0.8" b="0"/>
            </FontString>
        </Layer>
    </Layers>
    <Frames>
        <!-- Close Button -->
        <Button name="ATTPetFrameCloseButton">
            <Size>
                <AbsDimension x="16" y="16"/>
            </Size>
            <Anchors>
                <Anchor point="TOPRIGHT">
                    <Offset><AbsDimension x="-2" y="-2"/></Offset>
                </Anchor>
            </Anchors>
            <NormalTexture file="Interface\Buttons\UI-Panel-MinimizeButton-Up"/>
            <PushedTexture file="Interface\Buttons\UI-Panel-MinimizeButton-Down"/>
            <HighlightTexture file="Interface\Buttons\UI-Panel-MinimizeButton-Highlight" alphaMode="ADD"/>
            <Scripts>
                <OnClick>
                    ATTPetFrame:Hide()
                </OnClick>
            </Scripts>
        </Button>
        <!-- Content Frame -->
        <Frame name="ATTPetFrameContent">
            <Size>
                <AbsDimension x="276" y="355"/>
            </Size>
            <Anchors>
                <Anchor point="TOPLEFT">
                    <Offset><AbsDimension x="2" y="-22"/></Offset>
                </Anchor>
            </Anchors>
        </Frame>
    </Frames>
    <Scripts>
        <OnLoad>
            this:SetBackdropColor(0, 0, 0, 0.7)
            this:RegisterForDrag("LeftButton")
            tinsert(UISpecialFrames, "ATTPetFrame")
        </OnLoad>
        <OnDragStart>
            this:StartMoving()
        </OnDragStart>
        <OnDragStop>
            this:StopMovingOrSizing()
        </OnDragStop>
        <OnShow>
            PlaySound("igMainMenuOpen")
            if VanillaTheThings and VanillaTheThings.RefreshPetWindow then
                VanillaTheThings:RefreshPetWindow()
            end
        </OnShow>
        <OnHide>
            PlaySound("igMainMenuClose")
        </OnHide>
    </Scripts>
</Frame>

<!-- =====================================================================
     HIERARCHICAL TREE BROWSER FRAME
     ATT-style nested tree view: Zone > Subzone > NPC > Items
     Matches tracker's minimalist design
     ===================================================================== -->
<Frame name="ATTTreeBrowserFrame" parent="UIParent" toplevel="true" movable="true" enableMouse="true" hidden="true">
    <Size>
        <AbsDimension x="380" y="500"/>
    </Size>
    <Anchors>
        <Anchor point="CENTER"/>
    </Anchors>
    <Backdrop bgFile="Interface\Tooltips\UI-Tooltip-Background" edgeFile="" tile="true">
        <BackgroundInsets>
            <AbsInset left="0" right="0" top="0" bottom="0"/>
        </BackgroundInsets>
        <TileSize>
            <AbsValue val="16"/>
        </TileSize>
    </Backdrop>
    <Frames>
        <!-- Title Bar Background -->
        <Frame name="ATTTreeBrowserTitleBar">
            <Size>
                <AbsDimension x="380" y="20"/>
            </Size>
            <Anchors>
                <Anchor point="TOPLEFT"/>
            </Anchors>
            <Layers>
                <Layer level="BACKGROUND">
                    <Texture name="ATTTreeBrowserTitleBG">
                        <Color r="0.2" g="0.4" b="0.6" a="0.9"/>
                    </Texture>
                </Layer>
                <Layer level="OVERLAY">
                    <FontString name="ATTTreeBrowserTitle" inherits="GameFontNormalSmall" text="Tree Browser">
                        <Anchors>
                            <Anchor point="LEFT">
                                <Offset><AbsDimension x="8" y="0"/></Offset>
                            </Anchor>
                        </Anchors>
                        <Color r="1" g="1" b="1"/>
                    </FontString>
                    <FontString name="ATTTreeBrowserCount" inherits="GameFontNormalSmall" text="0 items">
                        <Anchors>
                            <Anchor point="RIGHT">
                                <Offset><AbsDimension x="-24" y="0"/></Offset>
                            </Anchor>
                        </Anchors>
                        <Color r="0.8" g="0.8" b="0.8"/>
                    </FontString>
                </Layer>
            </Layers>
        </Frame>
        <!-- Close Button -->
        <Button name="ATTTreeBrowserCloseButton">
            <Size>
                <AbsDimension x="16" y="16"/>
            </Size>
            <Anchors>
                <Anchor point="TOPRIGHT">
                    <Offset><AbsDimension x="-2" y="-2"/></Offset>
                </Anchor>
            </Anchors>
            <NormalTexture file="Interface\Buttons\UI-Panel-MinimizeButton-Up"/>
            <PushedTexture file="Interface\Buttons\UI-Panel-MinimizeButton-Down"/>
            <HighlightTexture file="Interface\Buttons\UI-Panel-MinimizeButton-Highlight" alphaMode="ADD"/>
            <Scripts>
                <OnClick>
                    ATTTreeBrowserFrame:Hide()
                </OnClick>
            </Scripts>
        </Button>
        <!-- Search Box Frame -->
        <Frame name="ATTTreeBrowserSearchFrame">
            <Size>
                <AbsDimension x="376" y="28"/>
            </Size>
            <Anchors>
                <Anchor point="TOPLEFT">
                    <Offset><AbsDimension x="2" y="-22"/></Offset>
                </Anchor>
            </Anchors>
            <Layers>
                <Layer level="BACKGROUND">
                    <Texture name="ATTTreeBrowserSearchBG">
                        <Color r="0" g="0" b="0" a="0.3"/>
                    </Texture>
                </Layer>
            </Layers>
            <Frames>
                <EditBox name="ATTTreeBrowserSearchBox" autoFocus="false">
                    <Size>
                        <AbsDimension x="200" y="20"/>
                    </Size>
                    <Anchors>
                        <Anchor point="LEFT">
                            <Offset><AbsDimension x="4" y="0"/></Offset>
                        </Anchor>
                    </Anchors>
                    <Layers>
                        <Layer level="BACKGROUND">
                            <Texture name="ATTTreeBrowserSearchBoxBG">
                                <Color r="0.1" g="0.1" b="0.1" a="0.8"/>
                            </Texture>
                        </Layer>
                    </Layers>
                    <FontString inherits="ChatFontNormal"/>
                    <Scripts>
                        <OnEscapePressed>
                            this:ClearFocus()
                        </OnEscapePressed>
                        <OnEnterPressed>
                            this:ClearFocus()
                            if VanillaTheThings and VanillaTheThings.SearchTreeBrowser then
                                VanillaTheThings:SearchTreeBrowser(this:GetText())
                            end
                        </OnEnterPressed>
                        <OnTextChanged>
                            if VanillaTheThings and VanillaTheThings.OnTreeSearchChanged then
                                VanillaTheThings:OnTreeSearchChanged(this:GetText())
                            end
                        </OnTextChanged>
                    </Scripts>
                </EditBox>
                <!-- Preset Dropdown Button -->
                <Button name="ATTTreeBrowserPresetButton">
                    <Size>
                        <AbsDimension x="80" y="20"/>
                    </Size>
                    <Anchors>
                        <Anchor point="LEFT" relativeTo="ATTTreeBrowserSearchBox" relativePoint="RIGHT">
                            <Offset><AbsDimension x="4" y="0"/></Offset>
                        </Anchor>
                    </Anchors>
                    <Layers>
                        <Layer level="BACKGROUND">
                            <Texture name="ATTTreeBrowserPresetBG">
                                <Color r="0.15" g="0.15" b="0.15" a="0.9"/>
                            </Texture>
                        </Layer>
                        <Layer level="OVERLAY">
                            <FontString name="ATTTreeBrowserPresetText" inherits="GameFontNormalSmall" text="Presets">
                                <Anchors>
                                    <Anchor point="CENTER"/>
                                </Anchors>
                                <Color r="1" g="0.82" b="0"/>
                            </FontString>
                        </Layer>
                    </Layers>
                    <Scripts>
                        <OnClick>
                            if VanillaTheThings and VanillaTheThings.TogglePresetMenu then
                                VanillaTheThings:TogglePresetMenu()
                            end
                        </OnClick>
                        <OnEnter>
                            ATTTreeBrowserPresetBG:SetVertexColor(0.25, 0.25, 0.25, 1)
                        </OnEnter>
                        <OnLeave>
                            ATTTreeBrowserPresetBG:SetVertexColor(0.15, 0.15, 0.15, 0.9)
                        </OnLeave>
                    </Scripts>
                </Button>
                <!-- Expand All Button -->
                <Button name="ATTTreeBrowserExpandAllButton">
                    <Size>
                        <AbsDimension x="20" y="20"/>
                    </Size>
                    <Anchors>
                        <Anchor point="LEFT" relativeTo="ATTTreeBrowserPresetButton" relativePoint="RIGHT">
                            <Offset><AbsDimension x="4" y="0"/></Offset>
                        </Anchor>
                    </Anchors>
                    <NormalTexture file="Interface\Buttons\UI-PlusButton-Up"/>
                    <PushedTexture file="Interface\Buttons\UI-PlusButton-Down"/>
                    <HighlightTexture file="Interface\Buttons\UI-PlusButton-Hilight" alphaMode="ADD"/>
                    <Scripts>
                        <OnClick>
                            if VanillaTheThings and VanillaTheThings.ExpandAllTreeNodes then
                                VanillaTheThings:ExpandAllTreeNodes()
                            end
                        </OnClick>
                        <OnEnter>
                            GameTooltip:SetOwner(this, "ANCHOR_RIGHT")
                            GameTooltip:SetText("Expand All")
                            GameTooltip:Show()
                        </OnEnter>
                        <OnLeave>
                            GameTooltip:Hide()
                        </OnLeave>
                    </Scripts>
                </Button>
                <!-- Collapse All Button -->
                <Button name="ATTTreeBrowserCollapseAllButton">
                    <Size>
                        <AbsDimension x="20" y="20"/>
                    </Size>
                    <Anchors>
                        <Anchor point="LEFT" relativeTo="ATTTreeBrowserExpandAllButton" relativePoint="RIGHT">
                            <Offset><AbsDimension x="2" y="0"/></Offset>
                        </Anchor>
                    </Anchors>
                    <NormalTexture file="Interface\Buttons\UI-MinusButton-Up"/>
                    <PushedTexture file="Interface\Buttons\UI-MinusButton-Down"/>
                    <HighlightTexture file="Interface\Buttons\UI-MinusButton-Hilight" alphaMode="ADD"/>
                    <Scripts>
                        <OnClick>
                            if VanillaTheThings and VanillaTheThings.CollapseAllTreeNodes then
                                VanillaTheThings:CollapseAllTreeNodes()
                            end
                        </OnClick>
                        <OnEnter>
                            GameTooltip:SetOwner(this, "ANCHOR_RIGHT")
                            GameTooltip:SetText("Collapse All")
                            GameTooltip:Show()
                        </OnEnter>
                        <OnLeave>
                            GameTooltip:Hide()
                        </OnLeave>
                    </Scripts>
                </Button>
                <!-- Reset Filters Button -->
                <Button name="ATTTreeBrowserResetButton">
                    <Size>
                        <AbsDimension x="20" y="20"/>
                    </Size>
                    <Anchors>
                        <Anchor point="LEFT" relativeTo="ATTTreeBrowserCollapseAllButton" relativePoint="RIGHT">
                            <Offset><AbsDimension x="2" y="0"/></Offset>
                        </Anchor>
                    </Anchors>
                    <NormalTexture file="Interface\Buttons\UI-RefreshButton"/>
                    <HighlightTexture file="Interface\Buttons\CheckButtonHilight" alphaMode="ADD"/>
                    <Scripts>
                        <OnClick>
                            if VanillaTheThings and VanillaTheThings.ResetTreeFilters then
                                VanillaTheThings:ResetTreeFilters()
                            end
                        </OnClick>
                        <OnEnter>
                            GameTooltip:SetOwner(this, "ANCHOR_RIGHT")
                            GameTooltip:SetText("Reset Filters")
                            GameTooltip:Show()
                        </OnEnter>
                        <OnLeave>
                            GameTooltip:Hide()
                        </OnLeave>
                    </Scripts>
                </Button>
            </Frames>
        </Frame>
        <!-- Filter Bar -->
        <Frame name="ATTTreeBrowserFilterBar">
            <Size>
                <AbsDimension x="376" y="24"/>
            </Size>
            <Anchors>
                <Anchor point="TOPLEFT">
                    <Offset><AbsDimension x="2" y="-52"/></Offset>
                </Anchor>
            </Anchors>
            <Layers>
                <Layer level="BACKGROUND">
                    <Texture name="ATTTreeBrowserFilterBG">
                        <Color r="0.1" g="0.1" b="0.1" a="0.5"/>
                    </Texture>
                </Layer>
                <Layer level="OVERLAY">
                    <FontString name="ATTTreeBrowserFilterText" inherits="GameFontNormalSmall" text="No filters active">
                        <Anchors>
                            <Anchor point="LEFT">
                                <Offset><AbsDimension x="4" y="0"/></Offset>
                            </Anchor>
                        </Anchors>
                        <Color r="0.7" g="0.7" b="0.7"/>
                    </FontString>
                </Layer>
            </Layers>
        </Frame>
        <!-- Tree Content Area -->
        <ScrollFrame name="ATTTreeBrowserScrollFrame">
            <Size>
                <AbsDimension x="358" y="400"/>
            </Size>
            <Anchors>
                <Anchor point="TOPLEFT">
                    <Offset><AbsDimension x="2" y="-78"/></Offset>
                </Anchor>
            </Anchors>
            <Frames>
                <Frame name="ATTTreeBrowserContent">
                    <Size>
                        <AbsDimension x="358" y="400"/>
                    </Size>
                    <Anchors>
                        <Anchor point="TOPLEFT"/>
                    </Anchors>
                </Frame>
            </Frames>
            <Scripts>
                <OnVerticalScroll>
                    FauxScrollFrame_OnVerticalScroll(self, offset, 16, function()
                        if VanillaTheThings and VanillaTheThings.RefreshTreeBrowser then
                            VanillaTheThings:RefreshTreeBrowser()
                        end
                    end)
                </OnVerticalScroll>
            </Scripts>
        </ScrollFrame>
        <!-- Scroll Bar -->
        <Slider name="ATTTreeBrowserScrollFrameScrollBar" inherits="FauxScrollFrameTemplate">
            <Size>
                <AbsDimension x="16" y="400"/>
            </Size>
            <Anchors>
                <Anchor point="TOPRIGHT">
                    <Offset><AbsDimension x="-2" y="-78"/></Offset>
                </Anchor>
            </Anchors>
        </Slider>
    </Frames>
    <Scripts>
        <OnLoad>
            this:SetBackdropColor(0, 0, 0, 0.7)
            this:RegisterForDrag("LeftButton")
            tinsert(UISpecialFrames, "ATTTreeBrowserFrame")
        </OnLoad>
        <OnDragStart>
            this:StartMoving()
        </OnDragStart>
        <OnDragStop>
            this:StopMovingOrSizing()
        </OnDragStop>
        <OnShow>
            PlaySound("igMainMenuOpen")
            if VanillaTheThings and VanillaTheThings.RefreshTreeBrowser then
                VanillaTheThings:RefreshTreeBrowser()
            end
        </OnShow>
        <OnHide>
            PlaySound("igMainMenuClose")
        </OnHide>
    </Scripts>
</Frame>

<!-- =====================================================================
     FILTER PRESET DROPDOWN MENU
     Matches tracker style, appears below preset button
     ===================================================================== -->
<Frame name="ATTPresetMenuFrame" parent="UIParent" toplevel="true" hidden="true" enableMouse="true">
    <Size>
        <AbsDimension x="180" y="300"/>
    </Size>
    <Anchors>
        <Anchor point="CENTER"/>
    </Anchors>
    <Backdrop bgFile="Interface\Tooltips\UI-Tooltip-Background" edgeFile="" tile="true">
        <BackgroundInsets>
            <AbsInset left="0" right="0" top="0" bottom="0"/>
        </BackgroundInsets>
        <TileSize>
            <AbsValue val="16"/>
        </TileSize>
    </Backdrop>
    <Frames>
        <!-- Title -->
        <Frame name="ATTPresetMenuTitleBar">
            <Size>
                <AbsDimension x="180" y="18"/>
            </Size>
            <Anchors>
                <Anchor point="TOPLEFT"/>
            </Anchors>
            <Layers>
                <Layer level="BACKGROUND">
                    <Texture name="ATTPresetMenuTitleBG">
                        <Color r="0.3" g="0.3" b="0.5" a="0.9"/>
                    </Texture>
                </Layer>
                <Layer level="OVERLAY">
                    <FontString name="ATTPresetMenuTitle" inherits="GameFontNormalSmall" text="Filter Presets">
                        <Anchors>
                            <Anchor point="LEFT">
                                <Offset><AbsDimension x="6" y="0"/></Offset>
                            </Anchor>
                        </Anchors>
                        <Color r="1" g="1" b="1"/>
                    </FontString>
                </Layer>
            </Layers>
        </Frame>
        <!-- Preset List Scroll Frame -->
        <ScrollFrame name="ATTPresetMenuScrollFrame">
            <Size>
                <AbsDimension x="162" y="260"/>
            </Size>
            <Anchors>
                <Anchor point="TOPLEFT">
                    <Offset><AbsDimension x="2" y="-20"/></Offset>
                </Anchor>
            </Anchors>
            <Frames>
                <Frame name="ATTPresetMenuContent">
                    <Size>
                        <AbsDimension x="162" y="260"/>
                    </Size>
                    <Anchors>
                        <Anchor point="TOPLEFT"/>
                    </Anchors>
                </Frame>
            </Frames>
        </ScrollFrame>
        <!-- Save New Preset Button -->
        <Button name="ATTPresetMenuSaveButton">
            <Size>
                <AbsDimension x="176" y="18"/>
            </Size>
            <Anchors>
                <Anchor point="BOTTOMLEFT">
                    <Offset><AbsDimension x="2" y="2"/></Offset>
                </Anchor>
            </Anchors>
            <Layers>
                <Layer level="BACKGROUND">
                    <Texture name="ATTPresetMenuSaveBG">
                        <Color r="0.2" g="0.4" b="0.2" a="0.9"/>
                    </Texture>
                </Layer>
                <Layer level="OVERLAY">
                    <FontString name="ATTPresetMenuSaveText" inherits="GameFontNormalSmall" text="+ Save Current Filters">
                        <Anchors>
                            <Anchor point="CENTER"/>
                        </Anchors>
                        <Color r="0.5" g="1" b="0.5"/>
                    </FontString>
                </Layer>
            </Layers>
            <Scripts>
                <OnClick>
                    if VanillaTheThings and VanillaTheThings.ShowSavePresetDialog then
                        VanillaTheThings:ShowSavePresetDialog()
                    end
                </OnClick>
                <OnEnter>
                    ATTPresetMenuSaveBG:SetVertexColor(0.3, 0.5, 0.3, 1)
                </OnEnter>
                <OnLeave>
                    ATTPresetMenuSaveBG:SetVertexColor(0.2, 0.4, 0.2, 0.9)
                </OnLeave>
            </Scripts>
        </Button>
    </Frames>
    <Scripts>
        <OnLoad>
            this:SetBackdropColor(0, 0, 0, 0.85)
        </OnLoad>
        <OnShow>
            if VanillaTheThings and VanillaTheThings.RefreshPresetMenu then
                VanillaTheThings:RefreshPresetMenu()
            end
        </OnShow>
        <OnHide>
        </OnHide>
    </Scripts>
</Frame>

<!-- =====================================================================
     ADVANCED SEARCH FRAME
     Filter by source type, quality, level range
     ===================================================================== -->
<Frame name="ATTAdvancedSearchFrame" parent="UIParent" toplevel="true" movable="true" enableMouse="true" hidden="true">
    <Size>
        <AbsDimension x="280" y="380"/>
    </Size>
    <Anchors>
        <Anchor point="CENTER"/>
    </Anchors>
    <Backdrop bgFile="Interface\Tooltips\UI-Tooltip-Background" edgeFile="" tile="true">
        <BackgroundInsets>
            <AbsInset left="0" right="0" top="0" bottom="0"/>
        </BackgroundInsets>
        <TileSize>
            <AbsValue val="16"/>
        </TileSize>
    </Backdrop>
    <Frames>
        <!-- Title Bar -->
        <Frame name="ATTAdvancedSearchTitleBar">
            <Size>
                <AbsDimension x="280" y="20"/>
            </Size>
            <Anchors>
                <Anchor point="TOPLEFT"/>
            </Anchors>
            <Layers>
                <Layer level="BACKGROUND">
                    <Texture name="ATTAdvancedSearchTitleBG">
                        <Color r="0.4" g="0.3" b="0.2" a="0.9"/>
                    </Texture>
                </Layer>
                <Layer level="OVERLAY">
                    <FontString name="ATTAdvancedSearchTitle" inherits="GameFontNormalSmall" text="Advanced Search">
                        <Anchors>
                            <Anchor point="LEFT">
                                <Offset><AbsDimension x="8" y="0"/></Offset>
                            </Anchor>
                        </Anchors>
                        <Color r="1" g="1" b="1"/>
                    </FontString>
                </Layer>
            </Layers>
        </Frame>
        <!-- Close Button -->
        <Button name="ATTAdvancedSearchCloseButton">
            <Size>
                <AbsDimension x="16" y="16"/>
            </Size>
            <Anchors>
                <Anchor point="TOPRIGHT">
                    <Offset><AbsDimension x="-2" y="-2"/></Offset>
                </Anchor>
            </Anchors>
            <NormalTexture file="Interface\Buttons\UI-Panel-MinimizeButton-Up"/>
            <PushedTexture file="Interface\Buttons\UI-Panel-MinimizeButton-Down"/>
            <HighlightTexture file="Interface\Buttons\UI-Panel-MinimizeButton-Highlight" alphaMode="ADD"/>
            <Scripts>
                <OnClick>
                    ATTAdvancedSearchFrame:Hide()
                </OnClick>
            </Scripts>
        </Button>
        <!-- Quality Section -->
        <Frame name="ATTAdvancedSearchQualitySection">
            <Size>
                <AbsDimension x="276" y="60"/>
            </Size>
            <Anchors>
                <Anchor point="TOPLEFT">
                    <Offset><AbsDimension x="2" y="-24"/></Offset>
                </Anchor>
            </Anchors>
            <Layers>
                <Layer level="BACKGROUND">
                    <Texture name="ATTAdvancedSearchQualityBG">
                        <Color r="0.1" g="0.1" b="0.1" a="0.4"/>
                    </Texture>
                </Layer>
                <Layer level="OVERLAY">
                    <FontString name="ATTAdvancedSearchQualityLabel" inherits="GameFontNormalSmall" text="Quality Range:">
                        <Anchors>
                            <Anchor point="TOPLEFT">
                                <Offset><AbsDimension x="6" y="-4"/></Offset>
                            </Anchor>
                        </Anchors>
                        <Color r="1" g="0.82" b="0"/>
                    </FontString>
                </Layer>
            </Layers>
        </Frame>
        <!-- Level Section -->
        <Frame name="ATTAdvancedSearchLevelSection">
            <Size>
                <AbsDimension x="276" y="50"/>
            </Size>
            <Anchors>
                <Anchor point="TOPLEFT">
                    <Offset><AbsDimension x="2" y="-86"/></Offset>
                </Anchor>
            </Anchors>
            <Layers>
                <Layer level="BACKGROUND">
                    <Texture name="ATTAdvancedSearchLevelBG">
                        <Color r="0.1" g="0.1" b="0.1" a="0.4"/>
                    </Texture>
                </Layer>
                <Layer level="OVERLAY">
                    <FontString name="ATTAdvancedSearchLevelLabel" inherits="GameFontNormalSmall" text="Level Range:">
                        <Anchors>
                            <Anchor point="TOPLEFT">
                                <Offset><AbsDimension x="6" y="-4"/></Offset>
                            </Anchor>
                        </Anchors>
                        <Color r="1" g="0.82" b="0"/>
                    </FontString>
                </Layer>
            </Layers>
        </Frame>
        <!-- Source Types Section -->
        <Frame name="ATTAdvancedSearchSourceSection">
            <Size>
                <AbsDimension x="276" y="180"/>
            </Size>
            <Anchors>
                <Anchor point="TOPLEFT">
                    <Offset><AbsDimension x="2" y="-138"/></Offset>
                </Anchor>
            </Anchors>
            <Layers>
                <Layer level="BACKGROUND">
                    <Texture name="ATTAdvancedSearchSourceBG">
                        <Color r="0.1" g="0.1" b="0.1" a="0.4"/>
                    </Texture>
                </Layer>
                <Layer level="OVERLAY">
                    <FontString name="ATTAdvancedSearchSourceLabel" inherits="GameFontNormalSmall" text="Source Types:">
                        <Anchors>
                            <Anchor point="TOPLEFT">
                                <Offset><AbsDimension x="6" y="-4"/></Offset>
                            </Anchor>
                        </Anchors>
                        <Color r="1" g="0.82" b="0"/>
                    </FontString>
                </Layer>
            </Layers>
        </Frame>
        <!-- Apply Button -->
        <Button name="ATTAdvancedSearchApplyButton">
            <Size>
                <AbsDimension x="130" y="24"/>
            </Size>
            <Anchors>
                <Anchor point="BOTTOMLEFT">
                    <Offset><AbsDimension x="6" y="6"/></Offset>
                </Anchor>
            </Anchors>
            <Layers>
                <Layer level="BACKGROUND">
                    <Texture name="ATTAdvancedSearchApplyBG">
                        <Color r="0.2" g="0.4" b="0.6" a="0.9"/>
                    </Texture>
                </Layer>
                <Layer level="OVERLAY">
                    <FontString name="ATTAdvancedSearchApplyText" inherits="GameFontNormalSmall" text="Apply Filters">
                        <Anchors>
                            <Anchor point="CENTER"/>
                        </Anchors>
                        <Color r="1" g="1" b="1"/>
                    </FontString>
                </Layer>
            </Layers>
            <Scripts>
                <OnClick>
                    if VanillaTheThings and VanillaTheThings.ApplyAdvancedFilters then
                        VanillaTheThings:ApplyAdvancedFilters()
                    end
                </OnClick>
                <OnEnter>
                    ATTAdvancedSearchApplyBG:SetVertexColor(0.3, 0.5, 0.7, 1)
                </OnEnter>
                <OnLeave>
                    ATTAdvancedSearchApplyBG:SetVertexColor(0.2, 0.4, 0.6, 0.9)
                </OnLeave>
            </Scripts>
        </Button>
        <!-- Reset Button -->
        <Button name="ATTAdvancedSearchResetButton">
            <Size>
                <AbsDimension x="130" y="24"/>
            </Size>
            <Anchors>
                <Anchor point="BOTTOMRIGHT">
                    <Offset><AbsDimension x="-6" y="6"/></Offset>
                </Anchor>
            </Anchors>
            <Layers>
                <Layer level="BACKGROUND">
                    <Texture name="ATTAdvancedSearchResetBG">
                        <Color r="0.4" g="0.2" b="0.2" a="0.9"/>
                    </Texture>
                </Layer>
                <Layer level="OVERLAY">
                    <FontString name="ATTAdvancedSearchResetText" inherits="GameFontNormalSmall" text="Reset All">
                        <Anchors>
                            <Anchor point="CENTER"/>
                        </Anchors>
                        <Color r="1" g="1" b="1"/>
                    </FontString>
                </Layer>
            </Layers>
            <Scripts>
                <OnClick>
                    if VanillaTheThings and VanillaTheThings.ResetAdvancedFilters then
                        VanillaTheThings:ResetAdvancedFilters()
                    end
                </OnClick>
                <OnEnter>
                    ATTAdvancedSearchResetBG:SetVertexColor(0.5, 0.3, 0.3, 1)
                </OnEnter>
                <OnLeave>
                    ATTAdvancedSearchResetBG:SetVertexColor(0.4, 0.2, 0.2, 0.9)
                </OnLeave>
            </Scripts>
        </Button>
    </Frames>
    <Scripts>
        <OnLoad>
            this:SetBackdropColor(0, 0, 0, 0.7)
            this:RegisterForDrag("LeftButton")
            tinsert(UISpecialFrames, "ATTAdvancedSearchFrame")
        </OnLoad>
        <OnDragStart>
            this:StartMoving()
        </OnDragStart>
        <OnDragStop>
            this:StopMovingOrSizing()
        </OnDragStop>
        <OnShow>
            PlaySound("igMainMenuOpen")
            if VanillaTheThings and VanillaTheThings.RefreshAdvancedSearch then
                VanillaTheThings:RefreshAdvancedSearch()
            end
        </OnShow>
        <OnHide>
            PlaySound("igMainMenuClose")
        </OnHide>
    </Scripts>
</Frame>

</Ui>
